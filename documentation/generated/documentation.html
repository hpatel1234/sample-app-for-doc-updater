<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transformation Logic Documentation</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
  <body>
    <!-- 1) Final Transformations Table -->
    <section id="final-transformations">
      <h1>Final Transformations</h1>
      <table id="final-transformations-table">
          <tr>
            <th>Output Attribute</th>
            <th>Input Attributes Used</th>
            <th>Transformation Logic</th>
            <th>Static Mappings Used</th>
            <th>Extra Information</th>
          </tr>
          <!-- One row per output attribute -->
          <tr>
            <td class="output-attribute">assetClass</td>
            <td class="inputs-used">["RptL3Descr", "RptL4Descr", "RptL5Descr"]</td>
            <td class="transformation-logic">Checks the presence of RptL5Descr, RptL4Descr, and RptL3Descr in order. If present, maps to a corresponding asset class using a static mapping. If none are present, defaults to "TREASURE".</td>
            <td class="static-mappings">{"mss": "Markets Security", "rc": "Risk and compliance"}</td>
            <td class="extra-info">N/A</td>
          </tr>
          <tr>
            <td class="output-attribute">lob</td>
            <td class="inputs-used">["lineOfBusiness"]</td>
            <td class="transformation-logic">Sets the line of business from the first employee in the list.</td>
            <td class="static-mappings">{}</td>
            <td class="extra-info">N/A</td>
          </tr>
          <tr>
            <td class="output-attribute">orgUnit</td>
            <td class="inputs-used">["country"]</td>
            <td class="transformation-logic">Sets the organizational unit from the first employee in the list.</td>
            <td class="static-mappings">{}</td>
            <td class="extra-info">N/A</td>
          </tr>
          <tr>
            <td class="output-attribute">participants</td>
            <td class="inputs-used">["employees"]</td>
            <td class="transformation-logic">Combines the first and last names of all employees into a list of strings.</td>
            <td class="static-mappings">{}</td>
            <td class="extra-info">N/A</td>
          </tr>
      </table>
    </section>

    <!-- 2) Intermediate Transformations Table -->
    <section id="intermediate-transformations">
      <h1>Intermediate Transformations</h1>
      <table id="intermediate-transformations-table">
          <tr>
            <th>Intermediate Output</th>
            <th>Input Attributes Used</th>
            <th>Intermediate Transformation Logic</th>
            <th>Final Output Attribute Used In</th>
          </tr>
          <tr>
            <td class="intermediate-output">employees</td>
            <td class="inputs-used">["employeeId"]</td>
            <td class="intermediate-logic">Fetches employee details using employee IDs from the DTO.</td>
            <td class="used-in">["lob", "orgUnit", "participants", "assetClass"]</td>
          </tr>
      </table>
    </section>
  </body>
</html>